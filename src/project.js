window.__require=function t(e,n,i){function o(r,s){if(!n[r]){if(!e[r]){var c=r.split("/");if(c=c[c.length-1],!e[c]){var d="function"==typeof __require&&__require;if(!s&&d)return d(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}}var u=n[r]={exports:{}};e[r][0].call(u.exports,function(t){return o(e[r][1][t]||t)},u,u.exports,t,e,n,i)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<i.length;r++)o(i[r]);return o}({DylAd:[function(t,e,n){"use strict";cc._RF.push(e,"f8c18Hs2QVNoY2ruupVy940","DylAd"),cc.Class({extends:cc.Component,properties:{isDebug:!1},onLoad:function(){var t=this.isDebug,e=!1,n=null,i=null;t?setTimeout(function(){e=!0},1e4):(n=anysdk.agentManager,(i=n.getAdsPlugin()).callFuncWithParam("preloadAd")),dyl.__adFun=function(){},dyl.__isLoading=!1;var o=function(){if(t)cc.log("\u5047\u5e7f\u544a\u51fa\u6765\u4e86\uff0c\u54c8\u54c8\u54c8\u54c8\u54c8");else{var e=anysdk.PluginParam.create("gq4XnooZ4zAyQJPiva3");i.callFuncWithParam("showAd",e)}};dyl.addAd=function(n){n&&(dyl.__adFun=n);var a=null;if(t)a=e;else{var r=anysdk.PluginParam.create("gq4XnooZ4zAyQJPiva3");a=i.callBoolFuncWithParam("couldShowAd",r)}return a?(o(),dyl.__adFun(),!0):!dyl.__isLoading&&(dyl.__isLoading=!0,cc.loader.loadRes("dylLoadingAd",function(t,e){var n=cc.instantiate(e);cc.director.getScene().getChildren()[0].addChild(n)}),!1)}}}),cc._RF.pop()},{}],DylBar:[function(t,e,n){"use strict";cc._RF.push(e,"627c13XFIpEA5JjMypfts2c","DylBar"),cc.Class({extends:cc.Component,editor:{menu:"dyl/\u2665 \u8840\u6761",executeInEditMode:!0},properties:{_isNew:!0,_maxHp:1,_hp:1,_barMaxLen:0,progress:{default:1,min:0,max:1,slide:!0,notify:function(t){return this.resetProgress(t)}}},__preload:function(){var t=this;if(cc.bar=this,this.delActFun=function(){return null},this.checkIsNew(),this._bar=this.node.getChildByName("bar"),this.node.set=function(e){return t.setFun(e)},this.node.change=function(e,n){return t.changeFun(e,n)},0===this._barMaxLen){var e=this.getSize(this._bar).x;if(e<1)return cc.warn("\u8840\u6761\u603b\u957f\u5ea6\u4e3a0",e);this._barMaxLen=e/this.progress}},getSize:function(t){var e=(t=t.node?t.node:t).getContentSize(),n=e.width,i=e.height;return cc.v2(n,i)},resetProgress:function(t){t>0&&(this._barMaxLen=this.getSize(this._bar).x/t),this._bar.width=this._barMaxLen*this.progress},resetSpr:function(){this.node.getComponent(cc.Sprite).spriteFrame=this.backSpr,this._bar.getComponent(cc.Sprite).spriteFrame=this.barSpr;var t=this.getSize(this.node);this._maxX=t.x*this.scaleX,this._maxY=t.y*this.scaleY,this._bar.height=this._maxY,this._bar.setAnchorPoint(0,.5),this._bar.setPosition(-.5*this._maxX,0),this.resetData()},resetData:function(){this._maxHp<=0?this._bar.width=0:this._bar.width=this._barMaxLen*this._hp/this._maxHp},checkIsNew:function(){},setFun:function(t){if("string"==typeof t||"number"==typeof t)return"string"==typeof t?(this._maxHp=Number(t),this._maxHp<0&&(this._maxHp=0),"0"===t[0]?this._hp=this._maxHp:this._hp>this._maxHp&&(this._hp=this._maxHp),this._hp):t>this._maxHp?(this._hp=this._maxHp,this._hp):t<0?(this._hp=0,this._hp):void(this._hp=t);cc.warn("label \u7684string \u7684data\u7c7b\u578b\u53ea\u80fd\u662f\u5b57\u7b26\u4e32\u6216\u6570\u5b57",t)},changeFun:function(t,e){var n=this;if(this.delActFun(),this._maxHp<=0)return cc.log("\u6700\u5927\u8840\u91cf\u90fd\u662f 0"),this._bar.width=0;e>this._maxHp&&(e=this._maxHp),e===t&&(this._bar.width=this._barMaxLen*this._hp/this._maxHp),this._bar.width=this._barMaxLen*e/this._maxHp;var i=300;i*=t>e?1:-1;var o=(t-e)*this._barMaxLen/(i*this._maxHp);this.delActFun=dyl.update(function(e){return n._bar.width=n._bar.width+i*e,!((o-=e)<=0&&(n._bar.width=n._barMaxLen*t/n._maxHp,1))})}}),cc._RF.pop()},{}],DylButton:[function(t,e,n){"use strict";cc._RF.push(e,"cd72cG+IilO6qAadQpr/XqC","DylButton");var i=function(){function t(t,e){var n=[],i=!0,o=!1,a=void 0;try{for(var r,s=t[Symbol.iterator]();!(i=(r=s.next()).done)&&(n.push(r.value),!e||n.length!==e);i=!0);}catch(t){o=!0,a=t}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();cc.Enum({Null:0,NextScene:1,NextLevel:2,Restart:3,ExitGame:4,Popup:5,Popdown:6,Buy:7});cc.Class({extends:cc.Component,editor:{menu:"dyl/\u264e \u6309\u94ae",executeInEditMode:!0,inspector:"packages://dyl-button/DylButton.js"},properties:{touchFun:{default:function(){return new cc.Component.EventHandler},type:cc.Component.EventHandler,displayName:"\u89e6\u53d1\u4e8b\u4ef6"},nodeName:"",jsName:"",funName:"",popupNode:cc.Node,popdownNode:cc.Node,sceneType:{default:"NextLevel",notify:function(){"Buy"===this.sceneType&&this.setBuy()}},nextScene:"",coin:{default:0,displayName:"\u4ef7\u683c"},coinName:{default:"coin",displayName:"\u8d27\u5e01\u5355\u4f4d"},toolName:{default:"",displayName:"\u7269\u54c1\u8def\u5f84\uff08.\u9694\u5f00\uff09"},hasSetBuy:!1,isAutoSave:{default:!1,displayName:"\u662f\u5426\u8981\u81ea\u52a8\u4fdd\u5b58"}},__preload:function(){this.myInit()},setBuy:function(){if(!this.hasSetBuy){this.hasSetBuy=!0;var t=new cc.Node("noMoney");this.node.addChild(t),t.addComponent(cc.Sprite),t.width=this.node.width,t.height=this.node.height,t=new cc.Node("coinNum"),this.node.addChild(t),t.addComponent(cc.Label),t.lineHeight=this.node.height,t.fontSize=.8*this.node.height,t=new cc.Node("hasBuy"),this.node.addChild(t),t.addComponent(cc.Sprite),t.width=this.node.width,t.height=this.node.height}},getTopNode:function(){return cc.director.getScene().getChildren()[0]},getSceneArr:function(){return["aa","bb"]},myInit:function(){var t=null;this.node.getChildByName("topSpr")&&((t=this.node.getChildByName("topSpr")).active=!1);var e=this,n=null;this.node.on("touchstart",function(i){t?t.active=!0:(n=e.node.getScale(),e.node.color,e.node.setScale(.92*n))}),this.node.on("touchend",function(i){if(t)return t.active=!1,void e.onClick();e.node.setScale(n),e.onClick()}),this.node.on("touchcancel",function(i){"Buy"!==e.sceneType&&(t?t.active=!1:e.node.setScale(n))}),"Buy"===this.sceneType&&this.initBuy()},initBuy:function(){var t=this;this.node.add=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var o=n.length-1;o>=0;o--){var a=n[o];"number"==typeof a?t.coin=a:"string"==typeof a?t.toolName=a:"function"==typeof a&&(t.endCheckBuyFun=a)}t.initBuy1()},""===this.toolName||this.initBuy1()},initBuy1:function(){var t=this;this.dyl_noMoneyNode=this.node.getChildByName("noMoney");var e=this.node.getChildByName("coinNum");e&&(this.dyl_coinNumLab=e.getComponent(cc.Label),this.dyl_coinNumLab.string=String(this.coin)),this.dyl_hasBuyNode=this.node.getChildByName("hasBuy");var n=this.toolName.split(".");if(1===n.length){var o=n[0];"number"==typeof hjm[o]?(this.dyl_isCanBuy=function(){return!0},this.dyl_buy=function(){hjm[o]++,hjm[this.coinName]-=this.coin}):(this.dyl_isCanBuy=function(){return!hjm[o]},this.dyl_buy=function(){hjm[o]=!0,hjm[this.coinName]-=this.coin})}else{if(2!==n.length)return cc.error("\u53c2\u6570\u5e94\u8be5\u662fstr\u6216\u8005str.str",this.toolName);var a=i(n,2),r=a[0],s=a[1];if(Array.isArray(hjm[r]))this.dyl_isCanBuy=function(){return hjm[r].indexOf(s)<0},this.dyl_buy=function(){hjm[r].push(s),hjm[this.coinName]-=this.coin,hjm[r]=hjm[r]};else{var c=null,d=hjm[r];for(var u in d){c="number"!=typeof d[u];break}if(null===c)return cc.warn("DylButton",this.toolName,"\u8fd9\u662f\u4e00\u4e2a\u7a7a\u5bf9\u8c61\uff0c\u4e0d\u77e5\u9053\u5230\u5e95\u662f\u4e0d\u662f\u552f\u4e00\u7269\u54c1");c?(this.dyl_isCanBuy=function(){return!d[s]},this.dyl_buy=function(){d[s]=!0,hjm[this.coinName]-=this.coin}):(this.dyl_isCanBuy=function(){return!0},_hjmIsObjTabFun(r)?this.dyl_buy=function(){d[s]?d[s]++:d[s]=1,hjm[r]=hjm[r],hjm[this.coinName]-=this.coin}:this.dyl_buy=function(){d[s]?d[s]++:d[s]=1,hjm[this.coinName]-=this.coin})}}this.dyl_updateBuy&&_hjmDelArrFun(this.coinName,this.dyl_updateBuy),this.dyl_updateBuy=function(){t.dyl_isCanBuy()?dyl.set(t.dyl_hasBuyNode,"active",!1):dyl.set(t.dyl_hasBuyNode,"active",!0),hjm[t.coinName]<t.coin?dyl.set(t.dyl_noMoneyNode,"active",!0):dyl.set(t.dyl_noMoneyNode,"active",!1)},_hjmAddArrFun(this.coinName,this.dyl_updateBuy),this.dyl_updateBuy()},buy:function(){this.dyl_isCanBuy()&&hjm[this.coinName]>=this.coin&&(this.endCheckBuyFun?this.endCheckBuyFun()&&this.dyl_buy():this.dyl_buy())},onDestroy:function(){this.dyl_updateBuy&&_hjmDelArrFun(this.coinName,this.dyl_updateBuy)},clickFun:function(){""!==this.funName&&hjm[this.nodeName].getComponent(this.jsName)[this.funName]()},onClick:function(){var t=this;if(cc.loader.load(cc.url.raw("resources/dyl/button.mp3"),function(t,e){t&&cc.error(t),cc.audioEngine.play(e,!1,1)}),"NextScene"===this.sceneType)return this.clickFun(),cc.director.loadScene(this.nextScene);if("NextLevel"===this.sceneType){this.clickFun();var e=cc.director.getScene().name,n=e.replace(/[^0-9]/gi,""),i=e.split(n);if(1===i.length)return cc.error("\u8fd9\u4e2a\u5173\u5361\u547d\u540d\u6709\u95ee\u9898\uff0c\u4e0d\u662f\u53ea\u6709\u4e00\u4e2a\u6570\u5b57");n=Number(n)+1;var o=i[0]+String(n)+i[1];return cc.director.loadScene(o)}if("ExitGame"===this.sceneType){if(this.clickFun(),cc.sys.isMobile)return cc.director.end();if(cc.sys.isBrowser)return window.opener=null,window.open("","_self"),void window.close();cc.sys.isNative}else{if("Restart"===this.sceneType)return this.clickFun(),void cc.director.loadScene(cc.director.getScene().name);"Popup"===this.sceneType?(this.clickFun(),this.popupNode.add()):"Popdown"===this.sceneType?this.popdownNode.del(function(){return t.clickFun()}):"Buy"===this.sceneType?this.buy():this.clickFun()}}}),cc._RF.pop()},{}],DylLab:[function(t,e,n){"use strict";cc._RF.push(e,"c1eaa+MGhdOJKV/CWWREtED","DylLab");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};cc.Class({extends:cc.Component,editor:{menu:"dyl/\u32a3 \u6587\u5b57",inspector:"packages://dyl-nowshow/DylNotshow.js"},properties:{},__preload:function(){this.dylPreload()},dylPreload:function(){var t=this;this.node._hasDylLabInit||(this.node._hasDylLabInit=!0,this._data={},this.initLab(),this.node.say=function(e,n){var i=t._data[e];if(!i)return cc.error("\u6ca1\u6709\u8fd9\u79cdlabel\u7684\u8282\u70b9",e);for(var o=[],a=0;a<i.length;a++){var r=i[a].getComponent(cc.Label);r&&(r.string="",o.push(r))}if(0===o.length)return cc.warn("say\u6ca1\u6709label\u76f8\u5173\u7684\u8282\u70b9",e,n);t._data[e].value=n;for(var s=function(t){var e=++o[t]._dylSayId,i=n.length,a=0;dyl.update(function(r){if(e!==o[t]._dylSayId)return!1;var s=(a+=r)/.1+1>>0;return s>=i&&(s=i),lab.string=n.slice(0,s),s<i})},c=0;c<o.length;c++)s(c)})},addDataNode:function(t,e){this._data[t]?this._data[t].push(e):this._data[t]=[e]},setProgressBar:function(t){t._dylProgressBar=t.getComponent(cc.ProgressBar),t.set=function(t){if("number"==typeof t)return t>1&&(t=1),t<0&&(t=0),this._dylProgressBar.progress=t,t;cc.warn("progressBar \u7684data\u7c7b\u578b\u53ea\u80fd\u662f\u5b57\u7b26\u4e32\u6216\u6570\u5b57",t)};for(var e=t.name.split("_"),n=0;n<e.length;n++){var i=e[n];""!==i&&this.addDataNode(i,t)}},setSameNode:function(t){for(var e=t.name.split("_"),n=0;n<e.length;n++){var i=e[n];""!==i&&(this.addDataNode(i,t),this._data[i].value=t)}},setLabel:function(t){t._dylLabel=t.getComponent(cc.Label),t.set=function(t){if("string"==typeof t||"number"==typeof t){var e=String(t);this._dylLabel.string=e,this._dylLabel._dylSayId++}else cc.warn("label \u7684string \u7684data\u7c7b\u578b\u53ea\u80fd\u662f\u5b57\u7b26\u4e32\u6216\u6570\u5b57",t)},t.change=function(t,e){},t._dylLabel._dylSayId=0;for(var e=t.name.split("_"),n=0;n<e.length;n++){var i=e[n];""!==i&&this.addDataNode(i,t)}},setDylNode:function(t){for(var e=t.name.split("_"),n=0;n<e.length;n++){var i=e[n];""!==i&&this.addDataNode(i,t)}},setData:function(t,e){var n=this._data[t];Object.defineProperty(this.node,t,{get:function(){return void 0===n.value?cc.error("\u6ca1\u6709\u8fd9\u4e2a\u6570\u636e",t):n.value},set:function(t){if("boolean"!=typeof t)if(t&&"object"===(void 0===t?"undefined":i(t))&&"function"!=typeof t.getChildren&&void 0!==t.x&&void 0!==t.y){!0===t.x&&(t.x=n[0].x),!0===t.y&&(t.y=n[0].y);for(var e=t.sub(n[0]),o=0;o<n.length;o++){var a=n[o];a.setPosition(e.add(a))}}else if("cc.Color"!==cc.js.getClassName(t))if(cc.Action.prototype.isPrototypeOf(t))for(var r=0;r<n.length;r++){var s=n[r],c=t.clone();s.runAction(c)}else{if(Array.isArray(t)){var d=t;if(1===d.length)for(var u=d[0],h=0;h<n.length;h++){n[h].rotation=u}else if(2===d.length)for(var l=d[0],f=d[1],p=0;p<n.length;p++){n[p].setScale(l,f)}}else if("cc.Node"===cc.js.getClassName(t))return t.getComponent(cc.Sprite)?void(n.value.getComponent(cc.Sprite).spriteFrame=t.getComponent(cc.Sprite).spriteFrame):cc.error("\u5982\u679c\u63a5\u53d7\u8282\u70b9\uff0c\u90a3\u5c31\u4ee3\u8868\u590d\u5236\u8fd9\u4e2a\u8282\u70b9\u7684\u7eb9\u7406\uff0c\u4f46\u4f60\u8fdecc.Sprite\u7ec4\u4ef6\u90fd\u6ca1\u6709");if("function"!=typeof t){for(var y=n.value;;){for(var m=!1,v=0;v<n.length;v++){var g=n[v];if(g.set){var _=g.set(t);if(void 0!==_){t=_,m=!0;break}}}if(!m)break}n.value=t,void 0===y?y=t:"function"==typeof y.getChildren&&(y=t);for(var b=0;b<n.length;b++){var x=n[b];"function"==typeof x.change&&x.change(t,y)}"function"==typeof n.notify&&n.notify(t,y)}else n.notify=t}else for(var A=0;A<n.length;A++){n[A].color=t}else for(var C=0;C<n.length;C++){n[C].active=t}}}),void 0!==e&&(this.node[t]=e)},initLab:function(){for(var t=this.node.getChildren(),e=0;e<t.length;e++){var n=t[e];if("say"===n.name)return cc.error("say \u662fapi\u7684\u540d\u5b57\uff0c\u4e0d\u80fd\u7528");n.getComponent("DylBar")?this.setDylNode(n):n.getComponent(cc.Label)||n.getComponent(cc.ProgressBar)?n.getComponent(cc.ProgressBar)?this.setProgressBar(n):n.getComponent(cc.Label)?this.setLabel(n):cc.error("\u6211\u4e5f\u4e0d\u77e5\u9053\u6709\u4ec0\u4e48\u9519"):this.setSameNode(n)}for(var i in this._data)if(this.setData(i,this.node[i]),1===this._data[i].length){var o=this._data[i][0];o.getComponent(cc.Sprite)&&(o.dylSpriteNodeName=i)}}}),cc._RF.pop()},{}],DylList:[function(t,e,n){"use strict";cc._RF.push(e,"578a4sw++tE7JtsD2057jFj","DylList");var i=cc.Enum({up:0,down:1,left:2,right:3});cc.Class({extends:cc.Component,editor:{menu:"dyl/\u5217\u8868"},properties:{dir:{default:i.up,type:i},d:8,startP:5,maxId:0,isTouch:!0},update:function(t){},__preload:function(){var t=this;this.isNotNode=!1;var e=function(){t.isNotNode=!0;for(var e=t.node.getChildren(),n=e.length-1;n>=0;n--)e[n].active=!1};if(0===this.maxId)return e();if(this.maxId<0&&(this.maxId=0),this.oriStartP=this.startP,this.isVertical=this.dir===i.up||this.dir===i.down,this.t=0,this.addFun=null,this.buttonFun=null,this.runFun=null,this.nodeArr=[],this.poolArr=[],this.nodeLen=0,this.startId=0,this.endId=0,this.len=this.isVertical?dyl.getSize(this.node).y:dyl.getSize(this.node).x,this.len<1)return cc.warn("DylList \u5f53\u524d\u8282\u70b9\u7684\u957f\u5ea6\u5c0f\u4e8e1",this.len);for(var n=this.node.getChildren(),o=0;o<n.length;o++){var a=this.isVertical?dyl.getSize(n[o]).y:dyl.getSize(n[o]).x;if(a<1)return cc.warn("DylList \u8fd9\u4e2a\u8282\u70b9\u7684\u957f\u5ea6\u5c0f\u4e8e1",n[o].name);this.poolArr.push(this.addPool(n[o],a)),this.poolArr[o].d=a,this.nodeLen+=a+this.d}this.minP=this.startP,this.getMaxP(),this.poolArr.add=function(t){var e=t%this.length;return e<0&&(e+=this.length),this[e].add()},this.add(this.startP),this.node.add=function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];if("number"!=typeof i[0]){t.addFun=null,t.buttonFun=null;for(var a=0;a<i.length;a++)if("function"==typeof i[a])t.addFun?t.buttonFun=i[a]:t.addFun=i[a];else if("number"==typeof i[a]){if(t.maxId=i[a],0===t.maxId)return e();t.isNotNode=!1,t.maxId<0&&(t.maxId=0),t.getMaxP()}return t.resetArr(t.startId,t.endId,0,0),t.resetPos({p:0,sId:0,eId:0}),t.add(t.oriStartP),t.nodeArr}return t.add(i[0]),t.nodeArr},this.isTouch?this.setTouch():this.setButton()},getMaxP:function(){if(this.maxId<=0)this.maxP=0;else{var t=this.poolArr.length,e=Math.floor(this.maxId/t),n=e*this.nodeLen;e=this.maxId-e*t;for(var i=0;i<e;i++)n+=this.poolArr[i].d+this.d;n=(n-=this.oriStartP)-this.d-this.len,this.maxP=n}},setTouch:function(){var t=this,e=!1,n=0,o=0,a=0,r=null;this.node.on("touchstart",function(i){if(!t.isNotNode){var s=i.getLocation();t.runFun&&(t.runFun(),t.runFun=null),e=!1,n=t.isVertical?s.y:s.x,o=n,a=n,r=s}}),this.node.on("touchmove",function(n){if(!t.isNotNode){var s=n.getLocation();(s.x-r.x)*(s.x-r.x)+(s.y-r.y)*(s.y-r.y)>=10&&(e=!0),o=a,a=t.isVertical?s.y:s.x,t.dir===i.right||t.dir===i.up?t.add(o-a+t.startP):t.add(a-o+t.startP)}});var s=function(t,e){return(t=e.convertToNodeSpace(t)).x>=0&&t.x<=e.width&&t.y>=0&&t.y<=e.height},c=function(n){if(!t.isNotNode){var r=n.getLocation();if(e)t.startP<=t.minP||t.startP>=t.maxP?t.checkOut():o+4<a?t.dir===i.down||t.dir===i.left?t.quickMove(1):t.quickMove(-1):a+4<o?t.dir===i.down||t.dir===i.left?t.quickMove(-1):t.quickMove(1):t.checkOut();else if(t.buttonFun)for(var c=t.nodeArr.length-1;c>=0;c--)if(s(r,t.nodeArr[c])){var d=t.nodeArr[c];return void t.buttonFun(d.dylListId,d)}}};this.node.on("touchend",c),this.node.on("touchcancel",c)},setButton:function(){var t=this;this.node.on("touchend",function(e){if(t.buttonFun)for(var n=e.getLocation(),i=t.nodeArr.length-1;i>=0;i--)if(t.nodeArr[i].getBoundingBoxToWorld().contains(n)){var o=t.nodeArr[i];return void t.buttonFun(o.dylListId,o)}})},quickMove:function(t){var e=this,n=-300*t,i=600*t,o=-16e3*t,a=this.startP,r=t>0?this.maxP:this.minP;this.runFun=dyl.update(function(s){return(i+=(a-r)*t>0?(n+=o*s)*s:n*s)*t<=0?(e.runFun=null,e.checkOut(),!1):(a+=i*s,e.add(a),!0)})},quickOut:function(t){var e=this,n=this.startP,i=0;if(null>this.maxP)this.maxP,this.maxP;else if(null<this.minP)this.minP,this.minP;this.runFun=dyl.update(function(o){var a=(i+=o)/time;return a>=1?(e.add(null),e.runFun=null,!1):(a=Math.sqrt(a),e.add(null*a*t+n),!0)})},checkOut:function(){var t=this;if(0!==this.maxId){var e=this.startP,n=null,i=0;if(this.startP<this.minP)n=this.minP;else if(this.minP>this.maxP)n=this.minP;else{if(!(this.startP>this.maxP))return;n=this.maxP}this.runFun=dyl.update(function(o){return i+=o,t.add((n-e)*i/.1+e),!(i>.1&&(t.add(n),t.runFun=null,1))})}},getStartData:function(t){var e=0,n=0,i=0,o=Math.floor(t/this.nodeLen);t=t-o*this.nodeLen,o*=this.poolArr.length;var a=0;for(a=0;a<this.poolArr.length;a++){var r=this.poolArr[a];if(!(t>r.d))break;t-=r.d+this.d,o++}e=t,n=o,t=this.poolArr[a%this.poolArr.length].d-t;for(var s=this.poolArr.length,c=this.len-this.d;t<=c;)a=(a+1)%s,t+=this.poolArr[a].d+this.d,o++;if(i=o+1,this.maxId){i>this.maxId&&(i=this.maxId);var d=this.poolArr.length;for(a=n;a<i&&a<0;a++){var u=a%d;u+=d,u%=d,e-=this.poolArr[u].d+this.d,n++}}return{p:e,sId:n,eId:i}},add:function(t){cc.log("x",t),this.startP=t;var e=this.getStartData(t);this.resetArr(this.startId,this.endId,e.sId,e.eId),this.resetPos(e)},resetPos:function(t){for(var e=-t.p,n=0;n<this.nodeArr.length;n++){var o=this.nodeArr[n],a=.5*o.d+e;this.dir===i.up?o.y=a-.5*this.len:this.dir===i.down?o.y=.5*this.len-a:this.dir===i.right?o.x=a-.5*this.len:o.x=.5*this.len-a,e+=o.d+this.d}},resetArr:function(t,e,n,i){var o=this,a=this.nodeArr;this.nodeArr=[];var r=function(e,n){for(var i=e;i<n;i++)a[i-t].dylDel()},s=function(t,e){for(var n=t;n<e;n++){var i=o.poolArr.add(n);o.nodeArr.push(i),i.dylListId=n,o.addFun&&o.addFun(n,i)}};i<=t||e<=n?(r(t,e),s(n,i)):(r(t,n),r(i,e),s(n,t),function(e,n){for(var i=e;i<n;i++)o.nodeArr.push(a[i-t])}(Math.max(t,n),Math.min(e,i)),s(e,i));for(var c=this.poolArr.length-1;c>=0;c--)this.poolArr[c].dylReset();this.startId=n,this.endId=i},addPool:function(t,e){var n=[],i=[];n.push(t),t.dylDel=function(){n.push(this)},t.d=e,t.active=!0;var o={},a=this.node;return o.add=function(){if(n.length>0)return n.pop();if(i.length>0){var o=i.pop();return o.active=!0,o}var r=cc.instantiate(t);return r.active=!0,a.addChild(r),r.d=e,r.dylDel=function(){n.push(this)},r},o.dylReset=function(){for(var t=n.length-1;t>=0;t--)n[t].active=!1,i.push(n[t]);n.length=0},o}}),cc._RF.pop()},{}],DylMain:[function(t,e,n){"use strict";cc._RF.push(e,"16386x0i1VC7q9eDPwQmRQm","DylMain");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function a(t){return Array.isArray(t)?t:Array.from(t)}cc.Enum({Null:0,SmallBig:1,Red:2,Shake:3});cc.Class({extends:cc.Component,editor:{menu:"dyl/\u2622 \u4e3b\u903b\u8f91",executeInEditMode:!0,inspector:"packages://dyl-main/DylMain.js"},properties:{touch:"",isPhysics:{default:!1,displayName:"\u7269\u7406"},isShowDebug:{default:!1,displayName:"\u8c03\u8bd5"},gravity:{default:cc.v2(0,-320),displayName:"\u91cd\u529b"}},_refresh:function(){},__preload:function(){this.myInit()},onEnable:function(){},initPhysics:function(){this.isPhysics&&(cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0,this.isShowDebug?cc.director.getPhysicsManager().debugDrawFlags=cc.PhysicsManager.DrawBits.e_aabbBit|cc.PhysicsManager.DrawBits.e_pairBit|cc.PhysicsManager.DrawBits.e_centerOfMassBit|cc.PhysicsManager.DrawBits.e_jointBit|cc.PhysicsManager.DrawBits.e_shapeBit:cc.director.getPhysicsManager().debugDrawFlags=0,cc.director.getPhysicsManager().gravity=this.gravity)},myInit:function(){this.initPhysics(),""!==this.touch&&this.setTouch()},onDestroy:function(){var t=this.__loadData;for(var e in t)cc.loader.releaseRes(e)},setTouch:function(){var t=this.node,e=null;t.button=t.button?t.button:[];var n=function(t,e){for(var n=0;n<e.length;n++){if(e[n].active)if(e[n].getBoundingBoxToWorld().contains(t))return e[n]}return null},r=this.node.touch,s=[];Object.defineProperty(this.node,"touch",{get:function(){return r},set:function(t){if(Array.isArray(t)){var e=a(t);r=e[0],s=e.slice(1)}else r=t,s=[];"string"!=typeof r&&cc.warn("touch\u7684\u72b6\u6001\u5e94\u8be5\u662f\u5b57\u7b26\u4e32\uff0c\u8fd9\u91cc\u5374\u4e0d\u662f",void 0===r?"undefined":i(r),r)}}),this.node.touch||(this.node.touch="touch");var c=this.node.getComponent(this.touch),d=this.node.touch,u=function(e){var i=e.getLocation(),o=cc.v2(t.convertToNodeSpace(i)),a=t.getContentSize(),r=[a.width,a.height],s=r[0],c=r[1],d=[s/2,c/2];return s=d[0],c=d[1],o.subSelf(cc.v2(s,c)),o.in=function(){for(var t=arguments.length,e=Array(t),o=0;o<t;o++)e[o]=arguments[o];return n(i,e)},o},h=!0,l=function(t,e){if(e&&!0!==e&&!Array.isArray(e))return cc.warn("touch"+t+"return data \u4e0d\u662ftrue\uff0c\u4e0d\u662f\u5426\uff0c\u4e5f\u4e0d\u662f\u6570\u7ec4",r,e);Array.isArray(e)&&(s=e)},f=null,p=0,y=!1;this.node.on("touchstart",function(i){if(e=n(i.getLocation(),t.button))return c.buttonOn&&c.buttonOn(e),!0;if(!t.touch)return h=null,null;d=t.touch;var a=u(i);if(p++,f=a,y=!1,c[t.touch+"LongOn"]||c[t.touch+"LongUp"]||c[t.touch+"LongOut"]||c[t.touch+"LongEnd"]){var r=p;setTimeout(function(){if(r===p){if(d!==t.touch)return null;y=!0,h=!c[t.touch+"LongOn"]||c[t.touch+"LongOn"].apply(c,[f].concat(o(s))),l("on",h)}},500)}h=!c[t.touch+"On"]||c[t.touch+"On"].apply(c,[a].concat(o(s))),l("on",h)}),this.node.on("touchmove",function(n){if(e)return!0;if(!h)return null;if(d!==t.touch)return null;var i=u(n);f=i,h=!c[t.touch+"Move"]||c[t.touch+"Move"].apply(c,[i].concat(o(s))),l("move",h)},this),this.node.on("touchend",function(n){if(e)return c.buttonEnd?c.buttonEnd(e):c.buttonUp&&c.buttonUp(e),!0;if(p++,!h)return null;if(d!==t.touch)return null;var i=u(n);return c[t.touch+"LongEnd"]&&y?(h=c[t.touch+"LongEnd"].apply(c,[i].concat(o(s))),void l("longEnd",h)):c[t.touch+"LongUp"]&&y?(h=c[t.touch+"LongUp"].apply(c,[i].concat(o(s))),void l("longUp",h)):c[t.touch+"End"]?(h=c[t.touch+"End"].apply(c,[i].concat(o(s))),void l("end",h)):void(c[t.touch+"Up"]?(h=c[t.touch+"Up"].apply(c,[i].concat(o(s))),l("up",h)):h=!0)},this),this.node.on("touchcancel",function(n){if(e)return c.buttonEnd?c.buttonEnd(e):c.buttonOut&&c.buttonOut(e),!0;if(p++,!h)return null;if(d!==t.touch)return null;var i=u(n);return c[t.touch+"LongEnd"]&&y?(h=c[t.touch+"LongEnd"].apply(c,[i].concat(o(s))),void l("longEnd",h)):c[t.touch+"LongOut"]&&y?(h=c[t.touch+"LongOut"].apply(c,[i].concat(o(s))),void l("longOut",h)):c[t.touch+"End"]?(h=c[t.touch+"End"].apply(c,[i].concat(o(s))),void l("end",h)):void(c[t.touch+"Out"]?(h=c[t.touch+"Out"].apply(c,[i].concat(o(s))),l("out",h)):h=!0)},this)},setRun:function(){var t=this;this.node.run=function(){for(var e=function(){},n=arguments[0],i=function(t,e){return function(){t(),e()}},o=function(e,n){return function(){t.node.js[e](),n()}},a=function(t,e){return function(){var n=t;n.push(function(){return null});for(var i=n.length,o=0;o<n.length;o++)d(n[o],function(){--i<=0&&e()})()}},r=function(t,e){return function(){var n=t.node;n.node&&(n=n.node),t.add&&t.add>0?t.easing(cc.easeIn(t.add)):t.add&&t.add<0&&(cc.easeInOut(-t.add),t.easing(cc.easeInOut(-t.add)));var i=cc.callFunc(function(){e()}),o=cc.sequence(t,i);n.runAction(o)}},s=function(t,e){return function(){var i=n;i.node&&(i=i.node),t.add&&t.add>0?t.easing(cc.easeIn(t.add)):t.add&&t.add<0&&(cc.easeInOut(-t.add),t.easing(cc.easeInOut(-t.add)));var o=cc.callFunc(e),a=cc.sequence(t,o);i.runAction(a)}},c=function(t,e){return function(){var i=n;i.node&&(i=i.node);var o=cc.delayTime(t),a=cc.callFunc(e),r=cc.sequence(o,a);i.runAction(r)}},d=function(t,e){return"function"==typeof t?i(t,e):"number"==typeof t?c(t,e):"string"==typeof t?o(t,e):Array.isArray(t)?a(t,e):t.node?r(t,e):s(t,e)},u=arguments.length-1;u>0;u--){var h=arguments[u];e=d(h,e)}e()}},setRand:function(){var t=this.rand;this.node.rand=function(e){var n=(t=(30853*t+253)%4671341)/4671341;return e?Math.floor(n*e):n},this.node.rand.set=function(e){t=e}}}),cc._RF.pop()},{}],DylPool:[function(t,e,n){"use strict";cc._RF.push(e,"34f084lYpFNQo1fsLe3Vr4s","DylPool");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}cc.Class({extends:cc.Component,editor:{menu:"dyl/\u2668 \u5bf9\u8c61\u6c60"},properties:{isEffect:!1},logPath:function(t){var e="";(function t(n){n&&(e=n.name+" "+e,t(n.parent))})(this.node),cc.log(e)},__preload:function(){for(var t=this.node._components,e=0;e<t.length;e++)if(t[e]===this){t.splice(e,1);break}this.preInit(),this.initPool()},preInit:function(){for(var t=[].concat(o(this.node.getChildren())),e=0;e<t.length;e++)t[e].parent=this.node.parent;var n=cc.v2(this.node);this.node.setPosition(cc.v2(0,0));var i=cc.instantiate(this.node);i.dylSpriteNodeName=i.name,i.name="tmp";for(var a=[].concat(o(this.node._components)),r=a.length-1;r>=0;r--)a[r].destroy();for(var s=0;s<t.length;s++)t[s].parent=i;i.setPosition(this.node),this.node.setPosition(n),i.parent=this.node},myPlay:function(t,e){for(var n=[t].concat(o(t.getChildren())),i=dyl.counter(function(){return t.del()},n.length),a=0;a<n.length;a++)this.playNode(n[a],e,i)},setColor:function(t,e){if(null!==e)for(var n=[t].concat(o(t.getChildren())),i=n.length-1;i>=0;i--)n[i].color=e},playNode:function(t,e,n){return t.getComponent(cc.ParticleSystem)?this.playParticleSystem(t,n):t.getComponent(cc.Animation)?this.playAnimation(t,n):t.getComponent(cc.Label)?this.playLabel(t,e,n):void n()},playAnimation:function(t,e){var n=t.getComponent(cc.Animation);if(n.on("finished",function t(){n.off("finished",t),e()}),!n.defaultClip)return cc.error("\u53ea\u80fd\u8fd0\u884c\u9ed8\u8ba4\u52a8\u753b\uff0c\u8fd9\u91cc\u6ca1\u6709",t.name);n.play()},playLabel:function(t,e,n){t.getComponent(cc.Label).string=String(e);Number(e);t.setPosition(cc.v2(0,0)),t.opacity=255;tz(t)._moveBy(.5,cc.v2(0,200))._fadeTo(.5,0)(n)()},playParticleSystem:function(t,e){var n=t.getComponent(cc.ParticleSystem);n.resetSystem();var i=n.duration+n.life+n.lifeVar;tz("2_pool")(i)(e)()},resetDylNode:function(t,e){var n=t.getComponent(e);n&&n.__preload()},initPool:function(){var t=this,e=this.node.getChildren()[0];this.resetDylNode(e,"DylLab"),e.active=!1;var n=[],o=[];o.push(e),this.isEffect?e.del=function(){this.active=!1,o.push(this);var t=this.__poolId;n[t]=n[n.length-1],n[t].__poolId=t,n.length=n.length-1,this.__poolId=null}:e.del=function(){this.active=!1,o.push(this);var t=n.indexOf(this);if(-1===t)return cc.error("\u8fd9\u4e2a\u8282\u70b9\u5df2\u7ecf\u88ab\u5220\u9664\u4e86\uff0c\u4e0d\u80fd\u518d\u5220\u9664",this.name,t,n,this);n.splice(t,1),n[this.name]===this&&(n[this.name]=null)};var a=this;this.isEffect?this.node.add=function(){for(var e=null,r=null,s=null,c=arguments.length,d=Array(c),u=0;u<c;u++)d[u]=arguments[u];for(var h=d.length-1;h>=0;h--){var l=d[h],f=void 0===l?"undefined":i(l);"string"!==f&&"number"!==f?"cc.Vec2"!==(f=cc.js.getClassName(l))&&"cc.Node"!==f?"cc.Color"!==f||(s=l):e=l:r=l}var p=null;return o.length<1?((p=cc.instantiate(n[0])).parent=this,p.del=function(){this.active=!1,o.push(this);var t=this.__poolId;n[t]=n[n.length-1],n[t].__poolId=t,n.length=n.length-1,this.__poolId=null}):(p=o[o.length-1],o.length=o.length-1,p.active=!0),t.resetDylNode(p,"DylLab"),p.__poolId=n.length,n.push(p),null===e?cc.warn("\u4f4d\u7f6e\u6ca1\u6709\u8bbe\u7f6e"):(p.setPosition(e),a.setColor(p,s),a.myPlay(p,r),p)}:this.node.add=function(e){var i=null;return o.length<1?((i=cc.instantiate(n[0])).parent=this,i.del=function(){this.active=!1,o.push(this);var t=n.indexOf(this);if(-1===t)return cc.error("\u8fd9\u4e2a\u8282\u70b9\u5df2\u7ecf\u88ab\u5220\u9664\u4e86\uff0c\u4e0d\u80fd\u518d\u5220\u9664",this.name,t,n,this);n.splice(t,1),n[this.name]===this&&(n[this.name]=null)}):(i=o[o.length-1],o.length=o.length-1,i.active=!0),t.resetDylNode(i,"DylLab"),n.push(i),void 0!==e&&(i.name=e,n[e]=i),i},this.node.pool=n}}),cc._RF.pop()},{}],DylTileMap:[function(t,e,n){"use strict";cc._RF.push(e,"7b877KCI9xM9Iv8hDcLvFg0","DylTileMap"),cc.Class({extends:cc.Component,editor:{menu:"dyl/\u25a6 \u74e6\u5757\u5730\u56fe",inspector:"packages://dyl-nowshow/DylNotshow.js"},properties:{},__preload:function(){this.initTileMap()},initTileMap:function(){var t=this.node.getComponent(cc.TiledMap),e=t.getMapSize(),n=t.getTileSize().width;this.node.map=dyl.addMap(e.width,e.height),this.node.posMap=dyl.addMapLayer(e.width,e.height,n),this.node.add=function(i,o){var a=node.getChildByName(i).getComponent(cc.TiledLayer);if(a){for(var r=a.getLayerSize(),s=a.getMapTileSize().width,c=r.width-1;c>=0;c--)for(var d=r.height-1;d>=0;d--){var u=a.getTileGIDAt(c,r.height-d-1);o(cc.v2(c,d),u)}return map.d=s,map}for(var h=(a=t.getObjectGroup(i)).getObjects(),l=h.length-1;l>=0;l--){var f=h[l].x/n,p=h[l].y/n;o(cc.v2(f,e.height-p-1),h[l].name)}}}}),cc._RF.pop()},{}],DylWindow:[function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}cc._RF.push(e,"f1099pPj+FP3oIXYJMx8XLx","DylWindow");var o=cc.Class({name:"NodeData",properties:{id:"",node:cc.Node,p:cc.v2(0,0),rotation:0,scaleX:1,scaleY:1,anchorX:.5,anchorY:.5,height:0,width:0,color:cc.color(255,255,255),opacity:255,skewX:0,skewY:0,active:!0,lab:""}}),a=cc.Class({name:"NodeDataArr",properties:{arr:[o]}});cc.Class({extends:cc.Component,editor:{menu:"dyl/\u2603 \u5f39\u7a97",executeInEditMode:!0,inspector:"packages://dyl-window/DylWindow.js"},ctor:function(){Object.defineProperty(this,"node",{get:function(){},set:function(t){delete this.node,this.node=t,this._myInit()},configurable:!0})},properties:{defaultData:{default:null,type:a},data:{default:[],type:a,visible:!1},showData:"default",_stateArr:{default:[],type:cc.String},stateArr:{default:[],type:cc.String}},_myInit:function(){var t=this;this.node.add=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return t.addFun(e,n)},this.node.del=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return t.delFun(e)}},getAction:function(t,e,n){if(!n.node.active)return[];var i=0,o=function(t){i=i>t?i:t},a=function(t,i){o(.4*Math.abs(n[t]-e[t])/i)};if(o(.4*n.p.sub(e.p).mag()/540),a("rotation",60),a("scaleX",.7),a("scaleY",.7),a("opacity",150),i<1e-4)return[];t.moveTo(n.node,i,n.p).rotateTo(n.node,i,n.rotation).scaleTo(n.node,i,n.scaleX,n.scaleY).fadeTo(n.node,i,n.opacity)},notActChange:function(t){for(var e=t.length-1;e>=0;e--){var n=t[e],i=n.node,o=n.anchorX,a=n.anchorY,r=n.height,s=n.width,c=n.color,d=n.skewX,u=n.skewY,h=n.active,l=n.lab;i.active=h,i.anchorX=o,i.anchorY=a,i.height=r,i.width=s,i.color=c,i.skewX=d,i.skewY=u,i.getComponent(cc.Label)&&(i.getComponent(cc.Label).string=l)}},addFun:function(t,e){if(t?this.showData=t:t=this.showData,"default"===t)return this._read("default");this._read("default");var n=this.data[this.stateArr.indexOf(t)].arr;this.notActChange(n);var i=tz();i._();for(var o=n.length-1;o>=0;o--)this.getAction(i,this.defaultData.arr[o],n[o]);i._()()},delFun:function(t){var e=this;if(this.node.active){if("default"===this.showData)return this.node.active=!1;var n=this.data[this.stateArr.indexOf(this.showData)].arr,i=tz();i._();for(var o=n.length-1;o>=0;o--)this.getAction(i,n[o],this.defaultData.arr[o]);i._()(function(){e.node.active=!1,t()})()}else t()},myAct:function(t){var e=this;if(t){this.node.active=!0;var n=this.node.scale,i=this.node.opacity,o=t>0?2:1,a=t>0?0:1,r=this.node;r.stopAllActions(),r.setScale(n*o),r.opacity=i*a;var s=cc.fadeTo(Math.abs(t),i*(1-a)),c=cc.scaleTo(Math.abs(t),n*(3-o)),d=cc.callFunc(function(){e.node.opacity=i,e.node.setScale(n),e.node.active=t>0}),u=cc.sequence(cc.spawn(s,c),d);r.runAction(u)}},_getString:function(t){return t.replace(/\s+/g,"")},_read:function(t){var e=null;if("default"===t)e=this.defaultData.arr;else for(var n=this.stateArr.length-1;n>=0;n--)this.stateArr[n]===t&&(e=this.data[n].arr);for(var i=e.length-1;i>=0;i--)if(e[i].node){var o=e[i].node,a=e[i];o.setPosition(a.p),o.rotation=a.rotation,o.scaleX=a.scaleX,o.scaleY=a.scaleY,o.anchorX=a.anchorX,o.anchorY=a.anchorY,o.color=a.color,o.opacity=a.opacity,o.skewX=a.skewX,o.skewY=a.skewY;var r=o.getComponent(cc.Label);if(r&&(r.string=a.lab),"Canvas"===o.name)this.node.getComponent(cc.Canvas).designResolution=cc.size(a.width,a.height);else o.height=a.height,o.width=a.width;o.active=a.active}},buttonSave:function(t){if("default"!==t)for(var e=this.stateArr.length-1;e>=0;e--)this.stateArr[e]===t&&(this.data[e]=this._getSaveData());else this.defaultData=this._getSaveData()},_save:function(t,e,n){if(this.stateArr[t]=e,"default"===e)return this.defaultData=this._getSaveData(),void(this.stateArr[t]="");this.data[t]=this._getSaveData(),""===e&&(this.stateArr[t]=n);for(var i=this.stateArr.length-1;i>=0;i--)if(this.stateArr[i]===this.stateArr[t]&&i!==t)return void(this.stateArr[t]="")},_getSaveData:function(){var t=new a;return t.arr=this._getSaveNodeArr(this.node),t},_getSaveNodeArr:function(t){for(var e=[this._addNodeData(t)],n=t.getChildren(),o=n.length-1;o>=0;o--)e.push.apply(e,i(this._getSaveNodeArr(n[o])));return e},_addNodeData:function(t){var e=new o;e.id=t.name,e.node=t,e.p=cc.v2(t),e.rotation=t.rotation,e.scaleX=t.scaleX,e.scaleY=t.scaleY,e.anchorX=t.anchorX,e.anchorY=t.anchorY,e.height=t.height,e.width=t.width,e.color=t.color,e.opacity=t.opacity,e.skewX=t.skewX,e.skewY=t.skewY,e.active=t.active;var n=t.getComponent(cc.Label);return n&&(e.lab=n.string),e},onLoad:function(){this.node.on("touchstart",function(){return null})}}),cc._RF.pop()},{}],DylWuli:[function(t,e,n){"use strict";cc._RF.push(e,"74127pcqJhKea7hsJnefXpC","DylWuli"),cc.Class({extends:cc.Component,editor:{menu:"dyl/\u2604 \u7269\u7406",executeInEditMode:!0,inspector:"packages://dyl-nowshow/DylNotshow.js"},properties:{collisionFun:{default:function(){return new cc.Component.EventHandler},type:cc.Component.EventHandler}},__preload:function(){var t=this.node.getComponent(cc.RigidBody);Object.defineProperty(this.node,"v",{get:function(){return t.linearVelocity},set:function(e){t.linearVelocity=e}}),Object.defineProperty(this.node,"f",{get:function(){return t.linearDamping},set:function(e){t.linearDamping=e}}),Object.defineProperty(this.node,"a",{set:function(e){t.applyForceToCenter(e)}}),t.fixedRotation=!0,t.enabledContactListener=!0,""!==this.collisionFun.handler&&(this.collisionComponent=this.collisionFun.target.getComponent(this.collisionFun.component))},onEnable:function(){0},onBeginContact:function(t,e,n){this.collisionComponent&&(t.disabled=this.collisionComponent[this.collisionFun.handler](n.node))}}),cc._RF.pop()},{}],"GameInit - 001":[function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}cc._RF.push(e,"94bcfYjy8ZBV4qpReiW+Yds","GameInit - 001"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){ai.num=null,ai.step=3,dyl.setRand(321),hjm.randNum=321,this.initAi(),this.setBoxArr(),this.node.touch="touch"},endGame:function(){this.node.touch="end",ai.isNextLevel=!0;tz(.2,function(){hjm._end=[!0],ai.endLevelId0===hjm.levelId?(hjm._end.nextButton=!1,hjm._end.nextButton1=!0):(hjm._end.nextButton=!0,hjm._end.nextButton1=!1),tz(hjm._end).to(.1,[1.2,1.2]).to(.1,[1,1])()})()},setBoxArr:function(){for(var t=ai.posArr.length,e=0;e<ai.step;e++)this.moveOne(ai.posArr[dyl.rand(t)]);ai.map.run(function(t){ai.map.get(t)&&ai.map.get(t).setPosition(ai.posMap.get(t))})},initAi:function(){ai.num||(ai.num=6),ai.d=180,ai.posArr=[],ai.posMap=dyl.addMapLayer(ai.num,ai.num,ai.d),ai.map=dyl.addMap(ai.num,ai.num,null),this.addLineBox(cc.v2(1,0),cc.v2(0,1)),this.addLineBox(cc.v2(ai.num-2,0),cc.v2(0,1)),this.addLineBox(cc.v2(0,1),cc.v2(1,0)),this.addLineBox(cc.v2(0,ai.num-2),cc.v2(1,0))},addLineBox:function(t,e){for(var n=ai.num,i=t,o=0;o<n;o++)if(ai.map.get(i))i.addSelf(e);else{var a=this.getBox();a.setPosition(ai.posMap.get(i)),ai.map.set(i,a),ai.posArr.push(cc.v2(i)),i=i.add(e)}},getBox:function(){var t=Math.floor(.5*ai.num),e=hjm._pool.add();return this.setType(e,0),e.num=dyl.rand(t+1),e},setType:function(t,e){void 0===e&&(e=1-t.type),t.other=!!e,t.type=e},moveOne:function(t){var e=this,n=ai.map.get(t),i=n.num;if(0===i)return cc.log("\u8fd9\u662f0",t);for(var o=function(o){e.setType(n);for(var a=t,r=0;r<i;r++)ai.map.set(a,a.add(o)),e.setType(ai.map.get(a)),a=a.add(o)},a=dyl.addDirArr(),r=0;r<4;r++){var s=a[r],c=s.mul(i).add(t);if(ai.map.get(c))return o(s),!0}return!1},touchOn:function(t){var e=t.in.apply(t,i(ai.boxArr));if(e)return[dyl.get(ai.boxArr,e),t.x]},touchEnd:function(t,e,n){var i=t.x-n;i>.01?this.moveBox(e,1):i<-.01&&this.moveBox(e,-1)},moveBox:function(t,e){var n=this,i=ai.boxArr[t].num,o=e*i+t;if(0===i||o<0||o>=ai.num){var a=ai.boxArr[t];tz(a).by(.1,cc.v2(e*ai.d*.3)).by(.1,cc.v2(-e*ai.d*.3))()}else{var r=tz(),s=ai.boxArr;this.setType(s[t]);for(var c=function(i){var o=s[t],a=s[t+e];s[t]=a,s[t+e]=o,r._by(o,.3,cc.v2(e*ai.d,0))._by(a,.3,cc.v2(-e*ai.d,0))(function(){n.setType(a)}),t+=e},d=0;d<i;d++)c();r(function(){for(var t=0;t<s.length;t++)if(1===s[t].type)return;n.endGame()}),r()}}}),cc._RF.pop()},{}],GameInit1:[function(t,e,n){"use strict";cc._RF.push(e,"9e4921io+ZNd7IGfAbFZ7R9","GameInit1"),cc.Class({extends:cc.Component,properties:{winMp3:{default:null,type:cc.AudioClip},moveMp3:{default:null,type:cc.AudioClip}},onLoad:function(){var t=22;if(ai.num=null,ai.step=10,ai.jm)t=ai.jm[0],ai.step=ai.jm[1],ai.jm[2]&&(ai.num=ai.jm[2]);else{ai.endLevelId0=11;var e=[41,42,45,46,48,50,51,53,54,55,56,57,58,59];ai.endLevelId1=e.length+ai.endLevelId0,ai.isNextLevel&&(ai.isNextLevel=!1,hjm.levelId++),hjm.levelId>ai.endLevelId1?(t=e[e.length-1]+hjm.levelId-ai.endLevelId1+1,ai.step=20):(t=e[hjm.levelId-ai.endLevelId0-1],ai.step=[1,2,3,4,5,6,7,9,10,11,12,13,14,15][hjm.levelId-ai.endLevelId0-1]),ai.num=6}hjm._levelStr.getComponent(cc.Label).string="level  "+(hjm.levelId+1),dyl.setRand(t),hjm.randNum=t,this.initAi(),this.setBoxArr()},endGame:function(){var t=this;this.node.touch="end",ai.isNextLevel=!0;tz(.2,function(){cc.audioEngine.play(t.winMp3,!1,1),hjm._end=[!0],ai.endLevelId0===hjm.levelId?(hjm._end.nextButton=!1,hjm._end.nextButton1=!0):(hjm._end.nextButton=!0,hjm._end.nextButton1=!1),tz(hjm._end).to(.1,[1.2,1.2]).to(.1,[1,1])()})()},setBoxArr:function(){for(var t=ai.posArr.length,e=0;e<ai.step;e++)this.moveOne(ai.posArr[dyl.rand(t)]);var n=!0;if(ai.map.run(function(t){1===ai.map.get(t,"type")&&(n=!1)}),n)return this.setBoxArr();ai.map.run(function(t){ai.map.get(t)&&ai.map.get(t).setPosition(ai.posMap.get(t))})},initAi:function(){ai.num||(ai.num=6),ai.d=180,ai.posArr=[],ai.posMap=dyl.addMapLayer(ai.num,ai.num,ai.d),ai.map=dyl.addMap(ai.num,ai.num,null),this.addLineBox(cc.v2(1,0),cc.v2(0,1)),this.addLineBox(cc.v2(ai.num-2,0),cc.v2(0,1)),this.addLineBox(cc.v2(0,1),cc.v2(1,0)),this.addLineBox(cc.v2(0,ai.num-2),cc.v2(1,0))},addLineBox:function(t,e){for(var n=ai.num,i=t,o=0;o<n;o++)if(ai.map.get(i))i.addSelf(e);else{var a=this.getBox();a.setPosition(ai.posMap.get(i)),ai.map.set(i,a),ai.posArr.push(cc.v2(i)),i=i.add(e)}},getBox:function(){var t=Math.floor(.5*ai.num),e=hjm._pool.add();return this.setType(e,0),e.num=dyl.rand(t+1),e},setType:function(t,e){void 0===e&&(e=1-t.type),t.other=!!e,t.type=e},moveOne:function(t){var e=this,n=ai.map.get(t),i=n.num;if(0===i)return cc.log("\u8fd9\u662f0",t);for(var o=function(o){e.setType(n);for(var a=t,r=0;r<i;r++)ai.map.set(a,a.add(o)),e.setType(ai.map.get(a)),a=a.add(o)},a=dyl.addDirArr(),r=0;r<4;r++){var s=a[r],c=s.mul(i).add(t);if(ai.map.get(c)&&ai.map.get(s.add(t)))return cc.log("dir",c,s.mul(-1)),o(s),!0}return!1},touchOn:function(t){var e=ai.posMap.find(t);if(ai.map.get(e))return[e,t]},touchEnd:function(t,e,n){var i=t.sub(n),o=i.x,a=i.y;if(!(o*o+a*a<=1)){var r=null;r=a>=o?a>=-o?cc.v2(0,1):cc.v2(-1,0):a>=-o?cc.v2(1,0):cc.v2(0,-1),this.moveBox(e,r)}},moveBox:function(t,e){for(var n=this,i=ai.map.get(t),o=i.num,a=!0,r=t,s=0;s<o;s++)r=r.add(e),ai.map.get(r)||(a=!1);if(o||(a=!1),a){var c=tz(),d=ai.map;this.setType(i),r=t;for(var u=function(t){var i=d.get(r),o=d.get(r.add(e));d.set(r,r.add(e)),c(function(){cc.audioEngine.play(n.moveMp3,!1,1)})._by(i,.3,e.mul(ai.d))._by(o,.3,e.mul(-ai.d))(function(){n.setType(o)}),r=r.add(e)},h=0;h<o;h++)u();c(function(){var t=!0;d.run(function(e){1===d.get(e,"type")&&(t=!1)}),t&&n.endGame()}),c()}else tz(i).by(.1,e.mul(.3*ai.d)).by(.1,e.mul(.3*-ai.d))()}}),cc._RF.pop()},{}],GameInit:[function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}cc._RF.push(e,"63ea6A1CkVAKr6y7hLg6u//","GameInit"),cc.Class({extends:cc.Component,properties:{winMp3:{default:null,type:cc.AudioClip},moveMp3:{default:null,type:cc.AudioClip}},onLoad:function(){var t=null;if(ai.num=null,ai.step=3,ai.jm)t=ai.jm[0],ai.step=ai.jm[1],ai.jm[2]&&(ai.num=ai.jm[2]);else{var e=[2,10,13,14,15,19,20,21,22,26,27,33];ai.endLevelId0=e.length-1,ai.isNextLevel&&(ai.isNextLevel=!1,hjm.levelId++),t=e[hjm.levelId],ai.step=[1,2,3,4,5,6,7,8,9,10,10,11][hjm.levelId],ai.num=[6,6,6,6,6,6,7,7,7,8,8,8][hjm.levelId]}hjm._levelStr.getComponent(cc.Label).string="level  "+(hjm.levelId+1),dyl.setRand(t),hjm.randNum=t,this.initAi(),this.addBox(),this.setBoxArr()},endGame:function(){var t=this;this.node.touch="end",ai.isNextLevel=!0;tz(.2,function(){cc.audioEngine.play(t.winMp3,!1,1),hjm._end=[!0],ai.endLevelId0===hjm.levelId?(hjm._end.nextButton=!1,hjm._end.nextButton1=!0):(hjm._end.nextButton=!0,hjm._end.nextButton1=!1),tz(hjm._end).to(.1,[1.2,1.2]).to(.1,[1,1])()})()},setBoxArr:function(){for(var t=ai.num,e=0;e<ai.step;e++)this.moveOne(dyl.rand(t),1-2*dyl.rand(2));for(var n=!0,i=0;i<ai.boxArr.length;i++)1===ai.boxArr[i].type&&(n=!1);if(n)return this.setBoxArr();for(var o=0;o<t;o++)ai.boxArr[o].setPosition(ai.posArr[o])},initAi:function(){ai.num||(ai.num=6),ai.d=180,ai.posArr=[],ai.boxArr=[];for(var t=cc.v2(.5*(1-ai.num)*ai.d,0),e=0;e<ai.num;e++)ai.posArr.push(t),t=t.add(cc.v2(ai.d,0))},addBox:function(){for(var t=ai.num,e=Math.floor(.5*t),n=0;n<t;n++){var i=hjm._pool.add();i.setPosition(ai.posArr[n]),this.setType(i,0),i.num=dyl.rand(e+1),ai.boxArr.push(i)}},setType:function(t,e){void 0===e&&(e=1-t.type),t.other=!!e,t.type=e},moveOne:function(t,e){var n=ai.boxArr,i=n[t].num,o=e*i+t;if(0===i)return cc.log("\u8fd9\u662f0",t,e);(o<0||o>=ai.num)&&(e=-e),cc.log("\u66fe\u68e0",t,e);var a=function(){for(var t="",e=0;e<n.length;e++)t+=n[e].num+" ";cc.log(t)};a(),this.setType(n[t]);for(var r=0;r<i;r++){var s=n[t];n[t]=n[t+e],n[t+e]=s,this.setType(n[t]),t+=e}a()},touchOn:function(t){var e=t.in.apply(t,i(ai.boxArr));if(e)return[dyl.get(ai.boxArr,e),t.x]},touchEnd:function(t,e,n){var i=t.x-n;i>.01?this.moveBox(e,1):i<-.01&&this.moveBox(e,-1)},moveBox:function(t,e){var n=this,i=ai.boxArr[t].num,o=e*i+t;if(0===i||o<0||o>=ai.num){var a=ai.boxArr[t];tz(a).by(.1,cc.v2(e*ai.d*.3)).by(.1,cc.v2(-e*ai.d*.3))()}else{var r=tz(),s=ai.boxArr;this.setType(s[t]);for(var c=function(i){var o=s[t],a=s[t+e];s[t]=a,s[t+e]=o,r(function(){cc.audioEngine.play(n.moveMp3,!1,1)}),r._by(o,.3,cc.v2(e*ai.d,0))._by(a,.3,cc.v2(-e*ai.d,0))(function(){n.setType(a)}),t+=e},d=0;d<i;d++)c();r(function(){for(var t=0;t<s.length;t++)if(1===s[t].type)return;n.endGame()}),r()}}}),cc._RF.pop()},{}]},{},["DylAd","DylBar","DylButton","DylLab","DylList","DylMain","DylPool","DylTileMap","DylWindow","DylWuli","GameInit - 001","GameInit","GameInit1"]);